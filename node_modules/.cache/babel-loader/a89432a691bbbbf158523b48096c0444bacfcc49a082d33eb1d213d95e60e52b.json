{"ast":null,"code":"var _jsxFileName = \"/Users/freddycooper/Downloads/cozyhome/src/pages/CategoryPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { products } from '../data/products';\nimport { categories } from '../data/categories';\nimport ProductCard from '../components/ProductCard';\n\n/**\n * CategoryPage renders a list of products filtered by top‑level\n * category or search query.  A simple sorting dropdown allows the\n * visitor to reorder items by popularity, price or discount.  The\n * search results route uses a pseudo‑category slug of \"search\" and\n * reads the query string to filter product names.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CategoryPage() {\n  _s();\n  const {\n    slug\n  } = useParams();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const searchTerm = query.get('query') || '';\n  const [sortKey, setSortKey] = useState('popular');\n\n  // Determine the heading based on slug\n  let heading = '';\n  let filteredProducts = [];\n  if (slug === 'search') {\n    heading = `Результаты поиска: “${searchTerm}”`;\n    const termLower = searchTerm.toLowerCase();\n    filteredProducts = products.filter(p => p.name.toLowerCase().includes(termLower));\n  } else if (slug === 'popular') {\n    heading = 'Популярные товары';\n    filteredProducts = [...products].sort((a, b) => b.rating - a.rating);\n  } else if (slug === 'new') {\n    heading = 'Новинки';\n    // For demonstration we treat last half of the list as new\n    filteredProducts = products.slice(Math.floor(products.length / 2));\n  } else if (slug === 'collections') {\n    heading = 'Коллекции';\n    filteredProducts = []; // no product list for collections\n  } else {\n    const category = categories.find(c => c.slug === slug);\n    heading = category ? category.name : 'Категория';\n    filteredProducts = products.filter(p => p.category === slug);\n  }\n\n  // Sorting logic\n  const sortFunctions = {\n    popular: (a, b) => b.rating - a.rating,\n    cheap: (a, b) => a.price - b.price,\n    expensive: (a, b) => b.price - a.price,\n    discount: (a, b) => {\n      const discA = a.oldPrice ? (a.oldPrice - a.price) / a.oldPrice : 0;\n      const discB = b.oldPrice ? (b.oldPrice - b.price) / b.oldPrice : 0;\n      return discB - discA;\n    },\n    newest: (a, b) => a.id.localeCompare(b.id)\n  };\n  const sortedProducts = [...filteredProducts].sort(sortFunctions[sortKey]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"category-page py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mt-0 mb-4 text-2xl font-semibold\",\n        children: heading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), sortedProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"sort\",\n          className: \"whitespace-nowrap\",\n          children: \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"sort\",\n          value: sortKey,\n          onChange: e => setSortKey(e.target.value),\n          className: \"p-1 border border-gray-300 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"popular\",\n            children: \"\\u0421\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u043F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u044B\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"newest\",\n            children: \"\\u0421\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u043D\\u043E\\u0432\\u044B\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cheap\",\n            children: \"\\u0421\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0434\\u0435\\u0448\\u0451\\u0432\\u044B\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"expensive\",\n            children: \"\\u0421\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0434\\u043E\\u0440\\u043E\\u0433\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"discount\",\n            children: \"\\u041F\\u043E \\u0440\\u0430\\u0437\\u043C\\u0435\\u0440\\u0443 \\u0441\\u043A\\u0438\\u0434\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), sortedProducts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\",\n        children: sortedProducts.map(prod => /*#__PURE__*/_jsxDEV(ProductCard, {\n          product: prod\n        }, prod.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041D\\u0435\\u0442 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432 \\u0432 \\u044D\\u0442\\u043E\\u0439 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(CategoryPage, \"LtVLuj5Cg+vPcQvI4sSgh7Alzlg=\", false, function () {\n  return [useParams, useLocation];\n});\n_c = CategoryPage;\nexport default CategoryPage;\nvar _c;\n$RefreshReg$(_c, \"CategoryPage\");","map":{"version":3,"names":["React","useState","useParams","useLocation","products","categories","ProductCard","jsxDEV","_jsxDEV","CategoryPage","_s","slug","location","query","URLSearchParams","search","searchTerm","get","sortKey","setSortKey","heading","filteredProducts","termLower","toLowerCase","filter","p","name","includes","sort","a","b","rating","slice","Math","floor","length","category","find","c","sortFunctions","popular","cheap","price","expensive","discount","discA","oldPrice","discB","newest","id","localeCompare","sortedProducts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","value","onChange","e","target","map","prod","product","_c","$RefreshReg$"],"sources":["/Users/freddycooper/Downloads/cozyhome/src/pages/CategoryPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { products } from '../data/products';\nimport { categories } from '../data/categories';\nimport ProductCard from '../components/ProductCard';\n\n/**\n * CategoryPage renders a list of products filtered by top‑level\n * category or search query.  A simple sorting dropdown allows the\n * visitor to reorder items by popularity, price or discount.  The\n * search results route uses a pseudo‑category slug of \"search\" and\n * reads the query string to filter product names.\n */\nfunction CategoryPage() {\n  const { slug } = useParams();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const searchTerm = query.get('query') || '';\n  const [sortKey, setSortKey] = useState('popular');\n\n  // Determine the heading based on slug\n  let heading = '';\n  let filteredProducts = [];\n  if (slug === 'search') {\n    heading = `Результаты поиска: “${searchTerm}”`;\n    const termLower = searchTerm.toLowerCase();\n    filteredProducts = products.filter((p) => p.name.toLowerCase().includes(termLower));\n  } else if (slug === 'popular') {\n    heading = 'Популярные товары';\n    filteredProducts = [...products].sort((a, b) => b.rating - a.rating);\n  } else if (slug === 'new') {\n    heading = 'Новинки';\n    // For demonstration we treat last half of the list as new\n    filteredProducts = products.slice(Math.floor(products.length / 2));\n  } else if (slug === 'collections') {\n    heading = 'Коллекции';\n    filteredProducts = []; // no product list for collections\n  } else {\n    const category = categories.find((c) => c.slug === slug);\n    heading = category ? category.name : 'Категория';\n    filteredProducts = products.filter((p) => p.category === slug);\n  }\n\n  // Sorting logic\n  const sortFunctions = {\n    popular: (a, b) => b.rating - a.rating,\n    cheap: (a, b) => a.price - b.price,\n    expensive: (a, b) => b.price - a.price,\n    discount: (a, b) => {\n      const discA = a.oldPrice ? (a.oldPrice - a.price) / a.oldPrice : 0;\n      const discB = b.oldPrice ? (b.oldPrice - b.price) / b.oldPrice : 0;\n      return discB - discA;\n    },\n    newest: (a, b) => a.id.localeCompare(b.id),\n  };\n  const sortedProducts = [...filteredProducts].sort(sortFunctions[sortKey]);\n\n  return (\n    <div className=\"category-page py-8\">\n      <div className=\"container mx-auto px-4\">\n        <h1 className=\"mt-0 mb-4 text-2xl font-semibold\">{heading}</h1>\n        {/* Sorting */}\n        {sortedProducts.length > 0 && (\n          <div className=\"mb-4 flex items-center space-x-2\">\n            <label htmlFor=\"sort\" className=\"whitespace-nowrap\">\n              Сортировать:\n            </label>\n            <select\n              id=\"sort\"\n              value={sortKey}\n              onChange={(e) => setSortKey(e.target.value)}\n              className=\"p-1 border border-gray-300 rounded\"\n            >\n              <option value=\"popular\">Сначала популярные</option>\n              <option value=\"newest\">Сначала новые</option>\n              <option value=\"cheap\">Сначала дешёвые</option>\n              <option value=\"expensive\">Сначала дорогие</option>\n              <option value=\"discount\">По размеру скидки</option>\n            </select>\n          </div>\n        )}\n        {/* Product grid */}\n        {sortedProducts.length > 0 ? (\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n            {sortedProducts.map((prod) => (\n              <ProductCard key={prod.id} product={prod} />\n            ))}\n          </div>\n        ) : (\n          <p>Нет товаров в этой категории.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CategoryPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}